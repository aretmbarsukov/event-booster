{"version":3,"file":"commonHelpers.js","sources":["../src/js/events.js"],"sourcesContent":["let currentPage = 0;\nlet maxAvailablePage = 0;\n\nasync function loadEvents(page = 0) {\n  const url = `https://app.ticketmaster.com/discovery/v2/events.json?apikey=Q8bHL81HES4CjxatVZAVSQWYyAffYhbQ&page=${page}`;\n\n  const response = await fetch(url);\n  const data = await response.json();\n\n  const events = data._embedded?.events || [];\n  const list = document.querySelector('.events-list');\n\n  if (!list) return;\n\n  if (events.length > 0) {\n    maxAvailablePage = page;\n  }\n\n  if (events.length === 0) {\n    return;\n  }\n\n  currentPage = page;\n\n  const markup = events\n    .map(ev => {\n      // console.log(ev._embedded?.venues?.[0].country);\n\n      const img = ev.images?.[0]?.url || '';\n      const name = ev.name || '';\n      const date = ev.dates?.start?.localDate || '';\n      const place = ev._embedded?.venues?.[0]?.name || '';\n\n      return `\n        <li class=\"event-card\">\n          <img class=\"event-img\" src=\"${img}\" alt=\"${name}\">\n          <h3 class=\"event-title\">${name}</h3>\n          <p class=\"event-date\">${date}</p>\n          <p class=\"event-place\">${place}</p>\n        </li>\n      `;\n    })\n    .join('');\n\n  list.innerHTML = markup;\n\n  updatePagination();\n}\n\nfunction updatePagination() {\n  const info = document.getElementById('page-info');\n  info.textContent = `Page ${currentPage + 1}`;\n}\n\ndocument.getElementById('prev').addEventListener('click', () => {\n  if (currentPage > 0) {\n    loadEvents(currentPage - 1);\n  }\n});\n\ndocument.getElementById('next').addEventListener('click', () => {\n  loadEvents(currentPage + 1);\n});\n\nloadEvents();\n"],"names":["currentPage","loadEvents","page","url","events","_a","list","markup","ev","img","_b","name","date","_d","_c","place","_g","_f","_e","updatePagination","info"],"mappings":"ssBAAA,IAAIA,EAAc,EAGlB,eAAeC,EAAWC,EAAO,EAAG,OAClC,MAAMC,EAAM,sGAAsGD,CAAI,GAKhHE,IAASC,GAFF,MADI,MAAM,MAAMF,CAAG,GACJ,QAER,YAAL,YAAAE,EAAgB,SAAU,CAAA,EACnCC,EAAO,SAAS,cAAc,cAAc,EAQlD,GANI,CAACA,IAEDF,EAAO,OAAS,EAIhBA,EAAO,SAAW,GACpB,OAGFJ,EAAcE,EAEd,MAAMK,EAASH,EACZ,IAAII,GAAM,mBAGT,MAAMC,IAAMC,GAAAL,EAAAG,EAAG,SAAH,YAAAH,EAAY,KAAZ,YAAAK,EAAgB,MAAO,GAC7BC,EAAOH,EAAG,MAAQ,GAClBI,IAAOC,GAAAC,EAAAN,EAAG,QAAH,YAAAM,EAAU,QAAV,YAAAD,EAAiB,YAAa,GACrCE,IAAQC,GAAAC,GAAAC,EAAAV,EAAG,YAAH,YAAAU,EAAc,SAAd,YAAAD,EAAuB,KAAvB,YAAAD,EAA2B,OAAQ,GAEjD,MAAO;AAAA;AAAA,wCAE2BP,CAAG,UAAUE,CAAI;AAAA,oCACrBA,CAAI;AAAA,kCACNC,CAAI;AAAA,mCACHG,CAAK;AAAA;AAAA,OAGxC,CAAK,EACA,KAAK,EAAE,EAEVT,EAAK,UAAYC,EAEjBY,GACF,CAEA,SAASA,GAAmB,CAC1B,MAAMC,EAAO,SAAS,eAAe,WAAW,EAChDA,EAAK,YAAc,QAAQpB,EAAc,CAAC,EAC5C,CAEA,SAAS,eAAe,MAAM,EAAE,iBAAiB,QAAS,IAAM,CAC1DA,EAAc,GAChBC,EAAWD,EAAc,CAAC,CAE9B,CAAC,EAED,SAAS,eAAe,MAAM,EAAE,iBAAiB,QAAS,IAAM,CAC9DC,EAAWD,EAAc,CAAC,CAC5B,CAAC,EAEDC,EAAY"}